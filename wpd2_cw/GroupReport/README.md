#WPD2 Group AL Report
I declare that all work submitted for this coursework is the work of Colin Campbell, Richard Marshall, Darren Brooke, Darren Lally alone unless stated otherwise.

For the Google Docs document version of this report:
https://docs.google.com/document/d/1LjKaIdpw7d8sARZwbBkvUvSWoDIoKAYjk1o790SUzac/edit?usp=sharing

##Mapping of links to functionality
The application uses several links to achieve the desired functionality - each link will take the user to a page that is generated by standard HTML or a mustache template. 

###Add milestone
Within the milestone planner page, there is a link that takes the user to the addmilestone.html page. Upon adding a milestone, the user is taken to the mps.mustache.html page where each milestone is displayed for the associated planner.

###Edit milestone
Within the milestone planner there is a link that redirects the user to the to the editmilestone.html page. Upon editing the milestone, the user is redirected to the mps.mustache
Where each milestone is displayed for the associated planner. 

###Remove milestone
Within the milestone planner page, there is a link that takes the user to the removemilestone.html page. Upon removing a milestone, the user is taken to the mps.mustache.html page where each milestone is displayed for the associated planner.

###Create account
Within the index page, there is a link that takes the user to the registration.html page. Here the user can create a new account for the application where, upon successful registration, the user is taken back to the index page.

###Login
Within the index page, there is a link that if the user enters stored login credentials they are then redirected to their main milestone dashboard page.

###Forgot password
Within the index page, there is a link that redirects the user to the reset_password.html page where the user can enter in their email address for a password reset. 

###Password reset
Within the reset_password.html page there is a text field that when submitted will send a reset password email to the users selected email address.

###Email Password Reset
The email link directs the user to the forgotConfimation.html page where they can reset their password, upon completion the user is redirected to the index.html. 

###Displaying incomplete milestones
Within the milestone planner page, there is a link that takes the user to a page for displaying all incomplete milestones for the current planner.


##Data persistence
For this project, the persistence mechanism in place is the embedded database contained in the project. This allows for the user to end their session but still have access to their created milestones and projects. A vital element to a completely functional milestone planner. It would not be viable to have the user recreate all of their projects when they log on, or never allowing the session to end. Therefore, a database is a crucial element to the success of this project. In this project, the use of an embedded database allows the pages to easily access the required information from within its own files. This prevents having to make an external request to a remote database, preventing information from being unavailable due to an unforeseen circumstance.
Using the IntelliJ IDE, an H2 embedded database was easily created and tied with the project, so that no matter what machine the server is ran from all the data will still be available, allowing the users to utilise the software at any time. At the same time, having the data access layer separate from the interface side of the site, allows for future changes to the database and its contents to be made, while avoiding having to completely rewrite all aspects of the page for a small section of the overall code. This will be incredibly beneficial for any project as it will minimise the effort required for future updates, as well as reduce the risk of these updates and changes breaking the website and preventing it from working.
To properly implement the features necessary for this project, three tables were created to encompass all necessary data.There were some minor changes made to the initial ERD created at the beginning of the project, as during implementation it came to light that the username would be the preferable primary key for user, and foreign key for the milestone planner. This change was implemented, and the updated tables were supplied to all team members. 
This database schema allows for a single user to have multiple milestone planners, each with a separate goal and id to identify it. The username from the user table is included as a Foreign key to identify who the planner belongs to when multiple users have accounts. The milestone table includes all the information to give context to the milestone including such elements as the title of the specific milestone, a short description, the due date and the actual date of completion. There are also two ids located in this table, one is an auto increment id to act as primary key, and the second is a foreign key that references the milestone planner so that the milestones can be filtered down to their specific planner.
The complete Boolean in the milestone table is a vital element to the functionality of the incomplete planner section of the site. This allows a query to filter out all milestones that have been completed and only display milestones that have not yet been marked as done.
Having all these tables operational is the reason that the website can function the way it does, and how the information is stored even after the user’s session has ended.

###Functionality and testing/test reports
The milestone planner should provide the following functionality for milestones:

•	Milestones can be removed from the list.

•	Milestones can be edited.

•	A listing of all incomplete milestones.

•	Milestones can be added to the list.

•	A milestone (list) can be shared with friends using a link.

#### Additional functionality we included:

Registration/Login Pages - These pages allowed the user to create an account to login to the website. 


Session Handling - Setting a session to the current user logged into the system, the purpose of this was so that the user could view their own personal milestones stored inside of the database.


Password Reset - Allows the user to request a password reset link through their email address.

####Testing overview
When each team member was working on their individual branch, unit testing was conducted to ensure that each individual section was working as intended. This involved populating the tables of the database, and then running the site, making sure all elements were being added, removed or listed. Functionality such as the security measures put in place as well as input validations were conducted during the unit testing, as it inly required the individual branches to completely test. Unit testing was conducted individually, by the owner of the branch for their own work. 
Once the branches were merged, integration testing was undertaken, to check whether all of the separate functionalities were working together to give a single complete and working website. Before the merge, it was only possible to create a dummy page to check if the links were able to appropriately navigate around the site, the functionality of these pages was only testable after the merge. The entire team helped to integrate test the project, to ensure that the project was ready for the final git push before the submission deadline. 
Shareable Link
As a group we were not able to successfully implement the shareable link feature as outlined in the project specifications. As the project neared its conclusion we decided as a team to drop the shareable link functionality as we would not have been able to implement it successfully within the project life-cycle without compromising on the core features of the application. 
Login/Registration Page Testing -

Overall testing for both of these pages went as expected the tests conducted and their results can be found below:
Registration Page - Tested to see if the user inputs were sanitized, set to lowercase and the password was hashed before submitting into the database
Result - Test Success

Registration Page - Test input validation to see if an error is thrown if password and re-confirm password didn’t match.
Result - Test Success

Registration Page - Tested to check if the username or email already existed inside the database, and if it does an error is thrown and the user is re-prompted to enter new credentials.
Result - Test Success

Registration Page -Tested to see if the hashing method, both hashed the inputted password and added salt to it.
Result - Test Success

Registration Page - Tested to see if malicious SQL queries inputted through the input boxes were escaped and not executed.
Result - Test Success.

Login Page - Test that when a user enters the wrong credentials they are redirected to a page that prompts them of their incorrect details and to try again.
Result - Test Success.

LoginPage - Test that when a user enters the correct login details they are logged in.
Login Page - Test that when a user logs in, a session is set and they are then redirected to mps.mustache.html.

Logout Page Testing -
The testing for the logout page was relatively straight forward. It went as expected as the user was able to successfully log out.
Logout Page - Successfully logs the user out of current session, preventing them from accessing milestone associated with that account until they log back in using those credentials.
Result - Test Success


Incomplete Milestone Page Testing - 
Incomplete Milestone Page - Tested to ensure that only the milestones that are checked as incomplete are listed on the page. By entering a complete milestone along with an incomplete milestone into the database and accessing the page, only one milestone is displayed.                            									Result - Test Success



Forgot password Testing - 
Forgot Password - Tested to ensure that when an email is entered, they are sent an email with a valid password reset link.
Result -Test Success


Forgot Password - Tested to ensure that the newly selected password has been properly encrypted and corresponds to the correct email address.
Result - Test Success


Forgot Password - Test to ensure user is properly redirected to the index.html after resetting password. 
Result - Test Success


Edit Milestone Page Testing -
Edit Milestone Page - Tested to ensure that when updated only the entry being edited was updated.
Result - Test Success


Edit Milestone Page - Tested to ensure that the changes made to the milestones fields are represented within the database/
Result - Test Success.


Edit Milestone Page - Tested to ensure that the the milestone is marked as complete or not complete when the corresponding checkbox is selected
Result - Test Success


Add Milestone Page Testing -
Add Milestone Page Testing - Tested to ensure that MIlestones are added correctly, and include the Milestone Name, Description and Intended due date. 
Result - Test Success 


Delete Milestone Page Testing - 
Delete Milestone Page Testing - Deletes only the page that has been selected by the user. 
Result - Test Success


##An appraisal of the application security. 
Security is paramount in any web application, and for our Milestone planner application, we took into consideration several security risks that could potentially make our application vulnerable to attacks. One of the biggest measures we had to consider when developing, was login/registration pages as they directly deal with user input that is being directly stored inside of a database. User input is arguably one of the most common vulnerabilities that makes any web application susceptible to attacks because if the correct measures aren’t taken then it opens a window for the most common attacks to take place: SQL Injection, Broken Authentication, Cross-Site Scripting (XSS) and Access Control. However, inside our application we have included various methods to help prevent these attacks. For the aforementioned pages, we took precautions by implementing the usage of Jsoup library to sanitize all of our inputs to prevent an XSS attack. The method implemented here is by using Jsoups .clean() method, it
takes in the user input from our registration/login pages as a parameter, and
it escapes it from any special symbols/tags. After conducting some testing,
this method proved to be beneficial as it escaped any malicious tags we tried
to insert into our database meaning this method was a success. Furthemore, we made use of MD5 hashing method to encrypt the users passwords to add an extra layer of security. By hashing the passwords, it guards the possibility that if someone gains unauthorised access to the database, they won’t be able to see the users actual password string thus adding this additional protection layer. Smaller security features we have implemented are, if a user tries to create an account, and both the password and confirm password don’t match, an error is thrown, which was achieved by using jQuery. jQuery allowed us to target a html element and traverse an error message into it, and also using e.preventDefault() to prevent the form from attempting to submit to the database.

Furthermore, we also made use of prepared statements and bound parameters before submitting anything to our databases. The purpose of using prepared statements is to prevent users from including their own SQL code to produce a false positive and allow access where none should be given. Also, using bound parameters for any of our SQL statements is the best method for preventing against any SQL Injection attacks because instead of putting the values directly into the SQL statement, you provide placeholders.so that the whole prepared statement is pre-defined so that if there was an attempt to inject an additional query or parameter, it would thrown an error as it does not match the bound parameters or prepared statement.

A security issue we are aware of is contained within the Milestone Planner Page as it has an if statement, “if (referrer.equals("http://localhost:9000/deletemilestone.html") ...”. This is a vulnerability contained within the project we were unable to find a suitable solution to. If this was exposed by an attacker, this piece of code be easily manipulated and leak important information and expose is to a Cross site scripting attack.
